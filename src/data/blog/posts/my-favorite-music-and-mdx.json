{"details":{"slug":"my-favorite-music-and-mdx","content":{"en":{"title":"My favorite music and MDX","description":"Introduction to MDX and how to use it with Next.js to create a simple blog."}},"categories":["mdx","next.js","markdown","tailwind-css"],"locales":["en"],"created_at":"2020/11/28","published_at":"2020/12/03","updated_at":"2021/08/14","is_published":true,"sources":[],"assets":{"github":{"name":"website","url":"https://github.com/diegofrayo/website","description":"My personal website","files":{"MDXContent":{"fileName":"src/modules/mdx/client.tsx","url":"https://github.com/diegofrayo/website/blob/master/src/modules/mdx/client.tsx"},"SourceCode":{"fileName":"src/components/shared/SourceCode.tsx","url":"https://github.com/diegofrayo/website/blob/master/src/components/shared/SourceCode.tsx"},"mdx":{"fileName":"src/modules/mdx/client.tsx","url":"https://github.com/diegofrayo/website/blob/master/src/modules/mdx/client.tsx"},"components|blog|slug":{"fileName":"src/modules/pages/blog/pages.BlogPostPage.tsx","url":"https://github.com/diegofrayo/website/blob/master/src/modules/pages/blog/pages/BlogPostPage.tsx"},"pages|blog|slug":{"fileName":"src/pages/blog/[slug].ts","url":"https://github.com/diegofrayo/website/blob/master/src/pages/blog/[slug].ts"},"MDXContent-Styles":{"fileName":"src/modules/mdx/styles.module.css","url":"https://github.com/diegofrayo/website/blob/master/src/modules/mdx/styles.module.css"}}},"$sourceCodeFiles":{"1":"export default function HelloWorldMDX({ text }: { text: string }) {\r\n\treturn <Text className=\"tw-block tw-bg-red-200 tw-p-2 tw-text-red-700\">{text}</Text>;\r\n}","4":"export const getStaticPaths: GetStaticPaths = async function getStaticPaths() {\r\n\tconst data = await loadData<T_RawBlogPostsResponse>({ localPath: `blog/data.json` });\r\n\r\n\treturn {\r\n\t\tpaths: Object.values(data).map((post) => {\r\n\t\t\treturn { params: { slug: post.slug } };\r\n\t\t}),\r\n\t\tfallback: \"blocking\",\r\n\t};\r\n};","5":"type T_BlogPostPageProps = {\r\n\tpostDetails: T_BlogPost;\r\n\tpostContent: string;\r\n};\r\n\r\nexport const getStaticProps: GetStaticProps<T_BlogPostPageProps, { slug: string }> = async ({\r\n\tparams,\r\n}) => {\r\n\tconst DEFAULT_LANG = \"en\";\r\n\tconst slug = params?.slug || \"\";\r\n\tif (!slug) throw new Error(`Invalid slug: \"${slug}\"`);\r\n\r\n\tconst post = await loadData<T_RawBlogPostResponse>({ localPath: `blog/posts/${slug}.json` });\r\n\tconst mdxCompiled = await compile({ content: post.content });\r\n\r\n\treturn {\r\n\t\tprops: {\r\n\t\t\tpostDetails: {\r\n\t\t\t\t...post.details,\r\n\t\t\t\tcontent: post.details.content[DEFAULT_LANG],\r\n\t\t\t},\r\n\t\t\tpostContent: mdxCompiled.code,\r\n\t\t},\r\n\t};\r\n};","6":"import * as React from \"react\";\r\nimport cn from \"classnames\";\r\nimport dynamic from \"next/dynamic\";\r\n\r\nimport { MainLayout, Page } from \"~/components/layout\";\r\nimport {\r\n\tBlock,\r\n\tButton,\r\n\tIcon,\r\n\tInlineText,\r\n\tLink,\r\n\tList,\r\n\tSpace,\r\n\tText,\r\n\tTitle,\r\n} from \"~/components/primitive\";\r\nimport {\r\n\tCallout,\r\n\tCopyToClipboardPopover,\r\n\tImageWithLink,\r\n\tToast,\r\n\tTooltip,\r\n} from \"~/components/shared\";\r\nimport WEBSITE_METADATA from \"~/data/metadata.json\";\r\nimport { withOnlyClientRender } from \"~/hocs\";\r\nimport AnalyticsService from \"~/modules/analytics\";\r\nimport { MDXContent, getMDXExport } from \"~/modules/mdx/client\";\r\nimport { ROUTES } from \"~/modules/routing\";\r\nimport { useBrowserStorageState } from \"@diegofrayo/storage\";\r\nimport twcss from \"@diegofrayo/twcss\";\r\nimport type DR from \"@diegofrayo/types\";\r\nimport { generateSlug } from \"@diegofrayo/utils/strings\";\r\nimport v from \"@diegofrayo/v\";\r\n\r\nimport { BlogPostCategory } from \"../components\";\r\nimport type { T_BlogPost } from \"../types\";\r\n\r\nexport type T_BlogPostPageProps = {\r\n\tpostDetails: T_BlogPost;\r\n\tpostContent: string;\r\n};\r\n\r\nfunction BlogPostPage({ postDetails, postContent }: T_BlogPostPageProps) {\r\n\treturn (\r\n\t\t<Page\r\n\t\t\tconfig={{\r\n\t\t\t\ttitle: postDetails.content.title,\r\n\t\t\t\tdescription: postDetails.content.description,\r\n\t\t\t\tdisableSEO: postDetails.is_published === false,\r\n\t\t\t\tpathname: `${ROUTES.BLOG}/${postDetails.slug}`,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<MainLayout title={postDetails.content.title}>\r\n\t\t\t\t<BlogPostDetails postDetails={postDetails} />\r\n\t\t\t\t<Space size={1.5} />\r\n\r\n\t\t\t\t<MDXContent\r\n\t\t\t\t\tcode={postContent}\r\n\t\t\t\t\tcomponents={getBlogPostDynamicComponents(getMDXExport(postContent))}\r\n\t\t\t\t\tglobals={{\r\n\t\t\t\t\t\tDATA: { post: postDetails },\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<Space size={5} />\r\n\r\n\t\t\t\t<BlogPostSources sources={postDetails.sources} />\r\n\t\t\t\t<Space size={12} />\r\n\r\n\t\t\t\t<RateContent />\r\n\t\t\t\t<Space size={4} />\r\n\r\n\t\t\t\t<BlogPostActions />\r\n\t\t\t</MainLayout>\r\n\t\t</Page>\r\n\t);\r\n}\r\n\r\nexport default BlogPostPage;\r\n\r\n// --- UTILS ---\r\n\r\nfunction getBlogPostDynamicComponents(componentsMap: DR.Object<string>) {\r\n\tconst COMPONENTS_PATHS_MAP = {\r\n\t\tPlayground: \"../../../components/shared/Playground\",\r\n\t\tSourceCode: \"../../../components/shared/SourceCode\",\r\n\t\tMFMAMGitHubRepo: \"./components/my-favorite-music-and-mdx/MFMAMGitHubRepo\",\r\n\t\tMFMAMHelloWorldMDX: \"./components/my-favorite-music-and-mdx/MFMAMHelloWorldMDX\",\r\n\t\tMFMAMSpotifyPlaylist: \"./components/my-favorite-music-and-mdx/MFMAMSpotifyPlaylist\",\r\n\t\tSPVEEQPlaces: \"./components/sitios-para-visitar-en-el-quindio/SPVEEQPlaces\",\r\n\t} as DR.Object<string>;\r\n\r\n\tconst components = {\r\n\t\tCallout,\r\n\t\tCopyToClipboardPopover,\r\n\t\tImageWithLink,\r\n\t\tToast,\r\n\t\tTooltip,\r\n\t} as DR.Object;\r\n\r\n\tObject.keys(componentsMap[\"Components\"] || {}).forEach((componentName) => {\r\n\t\tif (COMPONENTS_PATHS_MAP[componentName]) {\r\n\t\t\tif (componentName === \"Playground\") {\r\n\t\t\t\tcomponents[componentName] = dynamic(\r\n\t\t\t\t\t() => import(\"../../../../components/shared/Playground\"),\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tssr: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t);\r\n\t\t\t} else if (componentName === \"MFMAMGitHubRepo\") {\r\n\t\t\t\tcomponents[componentName] = dynamic(\r\n\t\t\t\t\t() => import(\"../components/my-favorite-music-and-mdx/MFMAMGitHubRepo\"),\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tssr: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t);\r\n\t\t\t} else if (componentName === \"MFMAMHelloWorldMDX\") {\r\n\t\t\t\tcomponents[componentName] = dynamic(\r\n\t\t\t\t\t() => import(\"../components/my-favorite-music-and-mdx/MFMAMHelloWorldMDX\"),\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tssr: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t);\r\n\t\t\t} else if (componentName === \"MFMAMSpotifyPlaylist\") {\r\n\t\t\t\tcomponents[componentName] = dynamic(\r\n\t\t\t\t\t() => import(\"../components/my-favorite-music-and-mdx/MFMAMSpotifyPlaylist\"),\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tssr: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t);\r\n\t\t\t} else if (componentName === \"SPVEEQPlaces\") {\r\n\t\t\t\tcomponents[componentName] = dynamic(\r\n\t\t\t\t\t() => import(\"../components/sitios-para-visitar-en-el-quindio/SPVEEQPlaces\"),\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tssr: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\treturn components;\r\n}","7":"import * as React from \"react\";\r\nimport { getMDXComponent, getMDXExport } from \"mdx-bundler/client\";\r\nimport cn from \"classnames\";\r\n\r\nimport {\r\n\tBlock,\r\n\tBlockquote,\r\n\tCode,\r\n\tImage,\r\n\tLink,\r\n\tList,\r\n\tSpace,\r\n\tText,\r\n\tTitle,\r\n} from \"~/components/primitive\";\r\nimport { SourceCode } from \"~/components/shared\";\r\nimport type { T_TitleProps } from \"~/components/primitive/Title\";\r\nimport type DR from \"@diegofrayo/types\";\r\n\r\nimport v from \"@diegofrayo/v\";\r\nimport styles from \"./styles.module.css\";\r\n\r\ntype T_MDXContentProps = {\r\n\tcode: string;\r\n\tcomponents?: DR.Object;\r\n\tglobals?: DR.Object;\r\n};\r\n\r\nexport function MDXContent({ code, components = {}, globals = {} }: T_MDXContentProps) {\r\n\tconst Component = React.useMemo(() => getMDXComponent(code, globals), [code, globals]);\r\n\r\n\treturn (\r\n\t\t<Block className={cn(\"dr-mdx-content\", styles[\"dr-mdx-content\"])}>\r\n\t\t\t<Component components={{ ...MDXComponents, ...components }} />\r\n\t\t</Block>\r\n\t);\r\n}\r\n\r\nexport { getMDXExport };\r\n\r\n// DOCS: https://mdxjs.com/table-of-components/\r\n/* WARN:\r\n * I don't know how to type this object, so, I used any for this\r\n * It is not important to solve this\r\n */\r\n// @ts-ignore\r\nexport const MDXComponents = {\r\n\t// --- PRIMITIVE COMPONENTS ---\r\n\ta: function CustomA({ children, href }: DR.DOM.HTMLElementAttributes[\"a\"]) {\r\n\t\treturn (\r\n\t\t\t<Link\r\n\t\t\t\thref={href || \"\"}\r\n\t\t\t\tvariant={Link.variant.STYLED}\r\n\t\t\t\tisExternalLink\r\n\t\t\t>\r\n\t\t\t\t{children}\r\n\t\t\t</Link>\r\n\t\t);\r\n\t},\r\n\tblockquote: Blockquote,\r\n\tcode: function CustomCode({ children }: DR.DOM.HTMLElementAttributes[\"code\"]) {\r\n\t\tif (v.isString(children)) {\r\n\t\t\treturn <Code variant={Code.variant.STYLED}>{children}</Code>;\r\n\t\t}\r\n\r\n\t\tthrow new Error(\"Code component: Invalid children\");\r\n\t},\r\n\th1: createTitleComponent(\"h1\", {}),\r\n\th2: createTitleComponent(\"h2\", {}),\r\n\th3: createTitleComponent(\"h3\", {}),\r\n\th4: createTitleComponent(\"h4\", {}),\r\n\thr: function CustomHr() {\r\n\t\treturn <Space variant={Space.variant.DASHED} />;\r\n\t},\r\n\timg: function CustomImage(props: DR.DOM.HTMLElementAttributes[\"img\"]) {\r\n\t\treturn (\r\n\t\t\t<Image\r\n\t\t\t\t{...props}\r\n\t\t\t\talt={props.alt || \"\"}\r\n\t\t\t\tuseNativeImage\r\n\t\t\t/>\r\n\t\t);\r\n\t},\r\n\tli: List.Item,\r\n\tp: Text,\r\n\tpre: function CustomPre({ children }: DR.DOM.HTMLElementAttributes[\"pre\"]) {\r\n\t\treturn <SourceCode code={children} />;\r\n\t},\r\n\tul: function CustomUl({ children }: DR.DOM.HTMLElementAttributes[\"ul\"]) {\r\n\t\treturn <List variant={List.variant.SIMPLE}>{children}</List>;\r\n\t},\r\n\r\n\t// --- CUSTOM COMPONENTS ---\r\n\tBlock,\r\n\tSourceCode,\r\n};\r\n\r\n// --- INTERNALS ---\r\n\r\nfunction createTitleComponent(Tag: \"h1\" | \"h2\" | \"h3\" | \"h4\", props: Omit<T_TitleProps, \"is\">) {\r\n\treturn function CustomTitle({ children }: DR.DOM.HTMLElementAttributes[\"h1\"]) {\r\n\t\treturn (\r\n\t\t\t<Title\r\n\t\t\t\t{...props}\r\n\t\t\t\tis={Tag}\r\n\t\t\t\tvariant={Title.variant.STYLED}\r\n\t\t\t>\r\n\t\t\t\t{children}\r\n\t\t\t</Title>\r\n\t\t);\r\n\t};\r\n}","8":"import * as React from \"react\";\r\nimport cn from \"classnames\";\r\nimport { highlight } from \"sugar-high\";\r\n\r\nimport { Block, Button, Icon, Link, Pre } from \"~/components/primitive\";\r\nimport AnalyticsService from \"~/modules/analytics\";\r\nimport v from \"@diegofrayo/v\";\r\nimport { createArray } from \"@diegofrayo/utils/arrays-and-objects\";\r\nimport { throwError } from \"@diegofrayo/utils/misc\";\r\nimport { generateSlug } from \"@diegofrayo/utils/strings\";\r\nimport type DR from \"@diegofrayo/types\";\r\n\r\nimport CopyToClipboardPopover from \"./CopyToClipboardPopover\";\r\n\r\nexport type T_SourceCodeProps = {\r\n\tcode: DR.React.Children;\r\n\tsourceURL?: string;\r\n\tclassName?: string;\r\n};\r\n\r\nfunction SourceCode({ code, sourceURL = \"\", className = \"\" }: T_SourceCodeProps) {\r\n\t// --- STATES & REFS ---\r\n\tconst [highlightedCode, setHighlightedCode] = React.useState(\"\");\r\n\tconst [containerHeight, setContainerHeight] = React.useState<number | \"auto\">(\"auto\");\r\n\tconst containerRef = React.useRef<null | HTMLDivElement>(null);\r\n\r\n\t// --- UTILS ---\r\n\tconst extractChildren = React.useCallback(function extractChildren(\r\n\t\tcodeParam: T_SourceCodeProps[\"code\"],\r\n\t) {\r\n\t\tconst result = React.isValidElement(codeParam) ? codeParam.props.children : codeParam;\r\n\r\n\t\treturn v.isString(result) ? result : throwError(\"Invalid text to copy or highlight\");\r\n\t}, []);\r\n\r\n\t// --- EFFECTS ---\r\n\tReact.useEffect(\r\n\t\tfunction highlightCode() {\r\n\t\t\tsetHighlightedCode(highlight(extractChildren(code)));\r\n\t\t},\r\n\t\t[code, extractChildren],\r\n\t);\r\n\r\n\tReact.useEffect(\r\n\t\tfunction onHighlightedCode() {\r\n\t\t\tif (highlightedCode && containerRef.current) {\r\n\t\t\t\tconst sourceCodeHeight = containerRef.current.querySelector(\"pre\")?.offsetHeight || 500;\r\n\t\t\t\tsetContainerHeight(sourceCodeHeight > 500 ? 500 : \"auto\");\r\n\t\t\t}\r\n\t\t},\r\n\t\t[highlightedCode],\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Block\r\n\t\t\tclassName={cn(\r\n\t\t\t\t\"dr-source-code\",\r\n\t\t\t\t\"tw-relative tw-overflow-hidden tw-rounded-md tw-border dr-bg-color-surface-200 dr-border-color-surface-300\",\r\n\t\t\t\tclassName,\r\n\t\t\t)}\r\n\t\t\tstyle={{ height: containerHeight }}\r\n\t\t\tref={containerRef}\r\n\t\t\tdata-markdown-block\r\n\t\t>\r\n\t\t\t<Block className=\"tw-absolute tw-right-0 tw-top-0 tw-flex tw-w-full tw-justify-between tw-pb-1 tw-text-right dr-bg-color-surface-300\">\r\n\t\t\t\t<Block className=\"tw-ml-2 tw-flex tw-pt-2\">\r\n\t\t\t\t\t{createArray(3).map((element) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Block\r\n\t\t\t\t\t\t\t\tkey={generateSlug(`SourceCode-Block-element-${element}`)}\r\n\t\t\t\t\t\t\t\tclassName={cn(\"tw-mr-1.5 tw-inline-block tw-rounded-full tw-wh-3 last:tw-mr-0\", {\r\n\t\t\t\t\t\t\t\t\t\"tw-bg-red-500\": element === 1,\r\n\t\t\t\t\t\t\t\t\t\"tw-bg-yellow-500\": element === 2,\r\n\t\t\t\t\t\t\t\t\t\"tw-bg-green-500\": element === 3,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</Block>\r\n\t\t\t\t<Block>\r\n\t\t\t\t\t{v.isNotEmptyString(sourceURL) ? (\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tvariant={Link.variant.SIMPLE}\r\n\t\t\t\t\t\t\thref={sourceURL}\r\n\t\t\t\t\t\t\tclassName=\"tw-mr-2 tw-inline-block\"\r\n\t\t\t\t\t\t\tonClick={AnalyticsService.trackClickEvent(\"SOURCE_CODE|OPEN_LINK\")}\r\n\t\t\t\t\t\t\tisExternalLink\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Icon icon={Icon.icon.EXTERNAL_LINK} />\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t<CopyToClipboardPopover textToCopy={extractChildren(code)}>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant={Button.variant.SIMPLE}\r\n\t\t\t\t\t\t\tclassName=\"tw-mr-2 tw-inline-block\"\r\n\t\t\t\t\t\t\tonClick={AnalyticsService.trackClickEvent(\"SOURCE_CODE|COPY_CODE\")}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Icon icon={Icon.icon.COPY} />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</CopyToClipboardPopover>\r\n\t\t\t\t</Block>\r\n\t\t\t</Block>\r\n\t\t\t<Pre\r\n\t\t\t\tvariant={Pre.variant.UNSTYLED}\r\n\t\t\t\tclassName=\"tw-max-h-full tw-overflow-auto tw-p-3 tw-pt-10 tw-text-base\"\r\n\t\t\t\tdangerouslySetInnerHTML={{ __html: highlightedCode }}\r\n\t\t\t/>\r\n\t\t</Block>\r\n\t);\r\n}\r\n\r\nexport default SourceCode;","7-styles":"/* Spacing: parent components */\r\n.dr-mdx-content > :is(blockquote, hr, ol, p, ul, a > img, *[data-markdown-block]) {\r\n\t@apply tw-mb-6;\r\n}\r\n\r\n.dr-mdx-content > *:last-child {\r\n\t@apply tw-mb-0;\r\n}\r\n\r\n/* Spacing: nested components */\r\n.dr-mdx-content\r\n\t:is(\r\n\t\tli > p,\r\n\t\tli > :global(.dr-source-code),\r\n\t\tli > blockquote,\r\n\t\tli > img,\r\n\t\tblockquote > p,\r\n\t\tli > a > img\r\n\t) {\r\n\t@apply tw-mb-3;\r\n}\r\n\r\n/* Spacing: titles */\r\n.dr-mdx-content > :is(h1, h2, h3, h4) {\r\n\t@apply tw-mt-8;\r\n\t@apply tw-mb-3;\r\n}\r\n\r\n/* Spacing: nested UL lists */\r\n.dr-mdx-content :is(li > ul, li > :global(.dr-source-code)) {\r\n\t@apply tw-mt-3;\r\n}\r\n\r\n/* Ordered lists */\r\n.dr-mdx-content ol {\r\n\t@apply tw-pl-9;\r\n\tlist-style-type: decimal;\r\n}\r\n\r\n.dr-mdx-content ol > li {\r\n\t@apply tw-mb-6;\r\n}\r\n\r\n/* Images */\r\n.dr-mdx-content :is(> a > img, li > a > img) {\r\n\t@apply tw-rounded-md;\r\n\tmargin-left: auto;\r\n\tmargin-right: auto;\r\n}"}}},"content":"export const Components = {\r\n\tPlayground: \"Playground\",\r\n\tMFMAMGitHubRepo: \"MFMAMGitHubRepo\",\r\n\tMFMAMHelloWorldMDX: \"MFMAMGitHubRepo\",\r\n\tMFMAMSpotifyPlaylist: \"MFMAMSpotifyPlaylist\",\r\n};\r\n\r\n**Spotify** just created a playlist with the most listened songs by me during this 2020, so, I took this opportunity to write a tutorial about [MDX](https://mdxjs.com/) and [Next.js](https://nextjs.org).\r\n\r\n> **MDX** is a **Markdown** language enhancement, making it more powerful and customizable, because **MDX** allows rendering **React components** inside of **Markdown** files.\r\n\r\nThis tutorial was written using **MDX**, so, below, you can see an example of a **React component** rendered in this post.\r\n\r\n<Playground\r\n\tlanguage=\"tsx\"\r\n\tPreview={() => {\r\n\t\treturn <MFMAMHelloWorldMDX text=\"I'm a React component that uses Tailwind CSS for styling\" />;\r\n\t}}\r\n\tsourceCode={DATA.post.assets.$sourceCodeFiles[\"1\"]}\r\n\theight={300}\r\n/>\r\n\r\n## Setting up **Next.js** and MDX\r\n\r\nI built this website using **Next.js**, I'm going to talk about how I configured **MDX** to create the blog section. To accomplish it, this [article](https://sergiodxa.com/articles/using-mdx-with-remote-content) posted by [Sergio Xalambr√≠](https://twitter.com/sergiodxa) was helpful for me.\r\n\r\nFirst of all, I configured **MDX** with **Next.js** and in this [link](https://mdxjs.com/getting-started/next) you can check out the instructions, it is really easy to complete it.\r\n\r\nThen, I installed the [next-mdx-remote](https://github.com/hashicorp/next-mdx-remote) package. This package allows rendering **MDX** files that can be hosted on a remote location, for example, a **CMS**, a **CDN**, a **database** or anywhere. There are other reasons for which it is useful to use this package, in this [section of its GitHub repository](https://github.com/hashicorp/next-mdx-remote#background--theory) you can dig deep in the problems that **next-mdx-remote** solves.\r\n\r\nNow, I'm going to explain how to use **next-mdx-remote** for rendering a blog post in a **Next.js** page depending on a URL param.\r\n\r\nFirst, I created the `getStaticPaths` function where the `paths` property is an array of slugs of all my blog posts that I want to **pre-render**.\r\n\r\n<SourceCode\r\n\tcode={DATA.post.assets.$sourceCodeFiles[\"4\"]}\r\n\tsourceURL={DATA.post.assets.github.files[\"pages|blog|slug\"].url}\r\n/>\r\n\r\n> I chose the **static-site generation** approach because I don't have a lot of pages, probably less than 20 and its content does not change often. I recommend reading more about this topic in this [Next.js docs page](https://nextjs.org/docs/basic-features/data-fetching), its explanation is very clear.\r\n\r\nNow, inside of the `getStaticProps` function, the **MDX** content of all blog posts is readed. This function only executes at build time, I mean, on the server side. At the moment I store all my blog posts **MDX** files inside of this website repository. In the future, I could store them on a **CMS**, for example.\r\n\r\n<SourceCode\r\n\tcode={DATA.post.assets.$sourceCodeFiles[\"5\"]}\r\n\tsourceURL={DATA.post.assets.github.files[\"pages|blog|slug\"].url}\r\n/>\r\n\r\n> **Problem:** I can't import components or variables directly inside of **MDX** files when I use **next-mdx-remote** to compile them. In this [link](https://github.com/hashicorp/next-mdx-remote#caveats) you can read more about this.\r\n\r\n> **Solution:** I had to pass a config object when I invoked the `serialize` function. The `scope` property is an object that contains the **data (variables)** that I need to use inside of my **MDX** files.\r\n\r\nFinally, this is the component that renders a blog post:\r\n\r\n<SourceCode\r\n\tcode={DATA.post.assets.$sourceCodeFiles[\"6\"]}\r\n\tsourceURL={DATA.post.assets.github.files[\"components|blog|slug\"].url}\r\n/>\r\n\r\nIn regards to the **MDX** components styling, at the beginning I used this [Tailwind CSS plugin](https://tailwindcss.com/docs/typography-plugin), but then, I decided don't use it anymore and I built a component with my own styles.\r\n\r\n<SourceCode\r\n\tcode={DATA.post.assets.$sourceCodeFiles[\"7\"]}\r\n\tsourceURL={DATA.post.assets.github.files[\"MDXContent\"].url}\r\n/>\r\n<SourceCode\r\n\tcode={DATA.post.assets.$sourceCodeFiles[\"7-styles\"]}\r\n\tsourceURL={DATA.post.assets.github.files[\"MDXContent-Styles\"].url}\r\n/>\r\n\r\n> `@apply` directive allows me to use **Tailwind CSS** classes within my `css.modules` files.\r\n\r\nI used [sugar-high](https://sugar-high.vercel.app/) for code syntax highlighting:\r\n\r\n<SourceCode\r\n\tcode={DATA.post.assets.$sourceCodeFiles[\"8\"]}\r\n\tsourceURL={DATA.post.assets.github.files[\"SourceCode\"].url}\r\n/>\r\n\r\n## Final words\r\n\r\nI share the URL of this repository in case of you want to see more details about my website and my blog section were implemented. Allright, this is all, thanks for reading.\r\n\r\n<MFMAMGitHubRepo\r\n\tname={DATA.post.assets.github.name}\r\n\turl={DATA.post.assets.github.url}\r\n\tdescription={DATA.post.assets.github.description}\r\n/>\r\n\r\nI share the **Spotify** playlist for which I wrote down this blog post:\r\n\r\n<MFMAMSpotifyPlaylist />"}